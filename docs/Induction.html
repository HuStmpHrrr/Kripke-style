<!DOCTYPE HTML>

<html><head><meta charset="utf-8"/><title>Induction</title><link href="Agda.css" rel="stylesheet"/><script src="highlight-hover.js" type="text/javascript"></script></head><body><div class="navbar"><a class="active" href="README.html">Everything</a><a href="index.html" style="float:right">Home</a></div><div class="main"><pre class="Agda"><a class="Comment" id="1">------------------------------------------------------------------------</a>
<a class="Comment" id="74">-- The Agda standard library</a>
<a class="Comment" id="103">--</a>
<a class="Comment" id="106">-- An abstraction of various forms of recursion/induction</a>
<a class="Comment" id="164">------------------------------------------------------------------------</a>

<a class="Comment" id="238">-- The idea underlying Induction.* comes from Epigram 1, see Section 4</a>
<a class="Comment" id="309">-- of "The view from the left" by McBride and McKinna.</a>

<a class="Comment" id="365">-- Note: The types in this module can perhaps be easier to understand</a>
<a class="Comment" id="435">-- if they are normalised. Note also that Agda can do the</a>
<a class="Comment" id="493">-- normalisation for you.</a>

<a class="Symbol" id="520">{-#</a> <a class="Keyword" id="524">OPTIONS</a> <a class="Pragma" id="532">--without-K</a> <a class="Pragma" id="544">--safe</a> <a class="Symbol" id="551">#-}</a>

<a class="Keyword" id="556">module</a> <a class="Module" href="Induction.html" id="563">Induction</a> <a class="Keyword" id="573">where</a>

<a class="Keyword" id="580">open</a> <a class="Keyword" id="585">import</a> <a class="Module" href="Level.html" id="592">Level</a>
<a class="Keyword" id="598">open</a> <a class="Keyword" id="603">import</a> <a class="Module" href="Relation.Unary.html" id="610">Relation.Unary</a>

<a class="Comment" id="626">-- A RecStruct describes the allowed structure of recursion. The</a>
<a class="Comment" id="691">-- examples in Induction.Nat should explain what this is all about.</a>

<a id="RecStruct"></a><a class="Function" href="Induction.html#760" id="760">RecStruct</a> <a class="Symbol" id="770">:</a> <a class="Symbol" id="772">∀</a> <a class="Symbol" id="774">{</a><a class="Bound" href="Induction.html#775" id="775">a</a><a class="Symbol" id="776">}</a> <a class="Symbol" id="778">→</a> <a class="Primitive" href="Agda.Primitive.html#326" id="780">Set</a> <a class="Bound" href="Induction.html#775" id="784">a</a> <a class="Symbol" id="786">→</a> <a class="Symbol" id="788">(</a><a class="Bound" href="Induction.html#789" id="789">ℓ₁</a> <a class="Bound" href="Induction.html#792" id="792">ℓ₂</a> <a class="Symbol" id="795">:</a> <a class="Postulate" href="Agda.Primitive.html#597" id="797">Level</a><a class="Symbol" id="802">)</a> <a class="Symbol" id="804">→</a> <a class="Primitive" href="Agda.Primitive.html#326" id="806">Set</a> <a class="Symbol" id="810">_</a>
<a class="Function" href="Induction.html#760" id="812">RecStruct</a> <a class="Bound" href="Induction.html#822" id="822">A</a> <a class="Bound" href="Induction.html#824" id="824">ℓ₁</a> <a class="Bound" href="Induction.html#827" id="827">ℓ₂</a> <a class="Symbol" id="830">=</a> <a class="Function" href="Relation.Unary.html#1101" id="832">Pred</a> <a class="Bound" href="Induction.html#822" id="837">A</a> <a class="Bound" href="Induction.html#824" id="839">ℓ₁</a> <a class="Symbol" id="842">→</a> <a class="Function" href="Relation.Unary.html#1101" id="844">Pred</a> <a class="Bound" href="Induction.html#822" id="849">A</a> <a class="Bound" href="Induction.html#827" id="851">ℓ₂</a>

<a class="Comment" id="855">-- A recursor builder constructs an instance of a recursion structure</a>
<a class="Comment" id="925">-- for a given input.</a>

<a id="RecursorBuilder"></a><a class="Function" href="Induction.html#948" id="948">RecursorBuilder</a> <a class="Symbol" id="964">:</a> <a class="Symbol" id="966">∀</a> <a class="Symbol" id="968">{</a><a class="Bound" href="Induction.html#969" id="969">a</a> <a class="Bound" href="Induction.html#971" id="971">ℓ₁</a> <a class="Bound" href="Induction.html#974" id="974">ℓ₂</a><a class="Symbol" id="976">}</a> <a class="Symbol" id="978">{</a><a class="Bound" href="Induction.html#979" id="979">A</a> <a class="Symbol" id="981">:</a> <a class="Primitive" href="Agda.Primitive.html#326" id="983">Set</a> <a class="Bound" href="Induction.html#969" id="987">a</a><a class="Symbol" id="988">}</a> <a class="Symbol" id="990">→</a> <a class="Function" href="Induction.html#760" id="992">RecStruct</a> <a class="Bound" href="Induction.html#979" id="1002">A</a> <a class="Bound" href="Induction.html#971" id="1004">ℓ₁</a> <a class="Bound" href="Induction.html#974" id="1007">ℓ₂</a> <a class="Symbol" id="1010">→</a> <a class="Primitive" href="Agda.Primitive.html#326" id="1012">Set</a> <a class="Symbol" id="1016">_</a>
<a class="Function" href="Induction.html#948" id="1018">RecursorBuilder</a> <a class="Bound" href="Induction.html#1034" id="1034">Rec</a> <a class="Symbol" id="1038">=</a> <a class="Symbol" id="1040">∀</a> <a class="Bound" href="Induction.html#1042" id="1042">P</a> <a class="Symbol" id="1044">→</a> <a class="Bound" href="Induction.html#1034" id="1046">Rec</a> <a class="Bound" href="Induction.html#1042" id="1050">P</a> <a class="Function Operator" href="Relation.Unary.html#2408" id="1052">⊆′</a> <a class="Bound" href="Induction.html#1042" id="1055">P</a> <a class="Symbol" id="1057">→</a> <a class="Function" href="Relation.Unary.html#3360" id="1059">Universal</a> <a class="Symbol" id="1069">(</a><a class="Bound" href="Induction.html#1034" id="1070">Rec</a> <a class="Bound" href="Induction.html#1042" id="1074">P</a><a class="Symbol" id="1075">)</a>

<a class="Comment" id="1078">-- A recursor can be used to actually compute/prove something useful.</a>

<a id="Recursor"></a><a class="Function" href="Induction.html#1149" id="1149">Recursor</a> <a class="Symbol" id="1158">:</a> <a class="Symbol" id="1160">∀</a> <a class="Symbol" id="1162">{</a><a class="Bound" href="Induction.html#1163" id="1163">a</a> <a class="Bound" href="Induction.html#1165" id="1165">ℓ₁</a> <a class="Bound" href="Induction.html#1168" id="1168">ℓ₂</a><a class="Symbol" id="1170">}</a> <a class="Symbol" id="1172">{</a><a class="Bound" href="Induction.html#1173" id="1173">A</a> <a class="Symbol" id="1175">:</a> <a class="Primitive" href="Agda.Primitive.html#326" id="1177">Set</a> <a class="Bound" href="Induction.html#1163" id="1181">a</a><a class="Symbol" id="1182">}</a> <a class="Symbol" id="1184">→</a> <a class="Function" href="Induction.html#760" id="1186">RecStruct</a> <a class="Bound" href="Induction.html#1173" id="1196">A</a> <a class="Bound" href="Induction.html#1165" id="1198">ℓ₁</a> <a class="Bound" href="Induction.html#1168" id="1201">ℓ₂</a> <a class="Symbol" id="1204">→</a> <a class="Primitive" href="Agda.Primitive.html#326" id="1206">Set</a> <a class="Symbol" id="1210">_</a>
<a class="Function" href="Induction.html#1149" id="1212">Recursor</a> <a class="Bound" href="Induction.html#1221" id="1221">Rec</a> <a class="Symbol" id="1225">=</a> <a class="Symbol" id="1227">∀</a> <a class="Bound" href="Induction.html#1229" id="1229">P</a> <a class="Symbol" id="1231">→</a> <a class="Bound" href="Induction.html#1221" id="1233">Rec</a> <a class="Bound" href="Induction.html#1229" id="1237">P</a> <a class="Function Operator" href="Relation.Unary.html#2408" id="1239">⊆′</a> <a class="Bound" href="Induction.html#1229" id="1242">P</a> <a class="Symbol" id="1244">→</a> <a class="Function" href="Relation.Unary.html#3360" id="1246">Universal</a> <a class="Bound" href="Induction.html#1229" id="1256">P</a>

<a class="Comment" id="1259">-- And recursors can be constructed from recursor builders.</a>

<a id="build"></a><a class="Function" href="Induction.html#1320" id="1320">build</a> <a class="Symbol" id="1326">:</a> <a class="Symbol" id="1328">∀</a> <a class="Symbol" id="1330">{</a><a class="Bound" href="Induction.html#1331" id="1331">a</a> <a class="Bound" href="Induction.html#1333" id="1333">ℓ₁</a> <a class="Bound" href="Induction.html#1336" id="1336">ℓ₂</a><a class="Symbol" id="1338">}</a> <a class="Symbol" id="1340">{</a><a class="Bound" href="Induction.html#1341" id="1341">A</a> <a class="Symbol" id="1343">:</a> <a class="Primitive" href="Agda.Primitive.html#326" id="1345">Set</a> <a class="Bound" href="Induction.html#1331" id="1349">a</a><a class="Symbol" id="1350">}</a> <a class="Symbol" id="1352">{</a><a class="Bound" href="Induction.html#1353" id="1353">Rec</a> <a class="Symbol" id="1357">:</a> <a class="Function" href="Induction.html#760" id="1359">RecStruct</a> <a class="Bound" href="Induction.html#1341" id="1369">A</a> <a class="Bound" href="Induction.html#1333" id="1371">ℓ₁</a> <a class="Bound" href="Induction.html#1336" id="1374">ℓ₂</a><a class="Symbol" id="1376">}</a> <a class="Symbol" id="1378">→</a>
        <a class="Function" href="Induction.html#948" id="1388">RecursorBuilder</a> <a class="Bound" href="Induction.html#1353" id="1404">Rec</a> <a class="Symbol" id="1408">→</a>
        <a class="Function" href="Induction.html#1149" id="1418">Recursor</a> <a class="Bound" href="Induction.html#1353" id="1427">Rec</a>
<a class="Function" href="Induction.html#1320" id="1431">build</a> <a class="Bound" href="Induction.html#1437" id="1437">builder</a> <a class="Bound" href="Induction.html#1445" id="1445">P</a> <a class="Bound" href="Induction.html#1447" id="1447">f</a> <a class="Bound" href="Induction.html#1449" id="1449">x</a> <a class="Symbol" id="1451">=</a> <a class="Bound" href="Induction.html#1447" id="1453">f</a> <a class="Bound" href="Induction.html#1449" id="1455">x</a> <a class="Symbol" id="1457">(</a><a class="Bound" href="Induction.html#1437" id="1458">builder</a> <a class="Bound" href="Induction.html#1445" id="1466">P</a> <a class="Bound" href="Induction.html#1447" id="1468">f</a> <a class="Bound" href="Induction.html#1449" id="1470">x</a><a class="Symbol" id="1471">)</a>

<a class="Comment" id="1474">-- We can repeat the exercise above for subsets of the type we are</a>
<a class="Comment" id="1541">-- recursing over.</a>

<a id="SubsetRecursorBuilder"></a><a class="Function" href="Induction.html#1561" id="1561">SubsetRecursorBuilder</a> <a class="Symbol" id="1583">:</a> <a class="Symbol" id="1585">∀</a> <a class="Symbol" id="1587">{</a><a class="Bound" href="Induction.html#1588" id="1588">a</a> <a class="Bound" href="Induction.html#1590" id="1590">ℓ₁</a> <a class="Bound" href="Induction.html#1593" id="1593">ℓ₂</a> <a class="Bound" href="Induction.html#1596" id="1596">ℓ₃</a><a class="Symbol" id="1598">}</a> <a class="Symbol" id="1600">{</a><a class="Bound" href="Induction.html#1601" id="1601">A</a> <a class="Symbol" id="1603">:</a> <a class="Primitive" href="Agda.Primitive.html#326" id="1605">Set</a> <a class="Bound" href="Induction.html#1588" id="1609">a</a><a class="Symbol" id="1610">}</a> <a class="Symbol" id="1612">→</a>
                        <a class="Function" href="Relation.Unary.html#1101" id="1638">Pred</a> <a class="Bound" href="Induction.html#1601" id="1643">A</a> <a class="Bound" href="Induction.html#1590" id="1645">ℓ₁</a> <a class="Symbol" id="1648">→</a> <a class="Function" href="Induction.html#760" id="1650">RecStruct</a> <a class="Bound" href="Induction.html#1601" id="1660">A</a> <a class="Bound" href="Induction.html#1593" id="1662">ℓ₂</a> <a class="Bound" href="Induction.html#1596" id="1665">ℓ₃</a> <a class="Symbol" id="1668">→</a> <a class="Primitive" href="Agda.Primitive.html#326" id="1670">Set</a> <a class="Symbol" id="1674">_</a>
<a class="Function" href="Induction.html#1561" id="1676">SubsetRecursorBuilder</a> <a class="Bound" href="Induction.html#1698" id="1698">Q</a> <a class="Bound" href="Induction.html#1700" id="1700">Rec</a> <a class="Symbol" id="1704">=</a> <a class="Symbol" id="1706">∀</a> <a class="Bound" href="Induction.html#1708" id="1708">P</a> <a class="Symbol" id="1710">→</a> <a class="Bound" href="Induction.html#1700" id="1712">Rec</a> <a class="Bound" href="Induction.html#1708" id="1716">P</a> <a class="Function Operator" href="Relation.Unary.html#2408" id="1718">⊆′</a> <a class="Bound" href="Induction.html#1708" id="1721">P</a> <a class="Symbol" id="1723">→</a> <a class="Bound" href="Induction.html#1698" id="1725">Q</a> <a class="Function Operator" href="Relation.Unary.html#2408" id="1727">⊆′</a> <a class="Bound" href="Induction.html#1700" id="1730">Rec</a> <a class="Bound" href="Induction.html#1708" id="1734">P</a>

<a id="SubsetRecursor"></a><a class="Function" href="Induction.html#1737" id="1737">SubsetRecursor</a> <a class="Symbol" id="1752">:</a> <a class="Symbol" id="1754">∀</a> <a class="Symbol" id="1756">{</a><a class="Bound" href="Induction.html#1757" id="1757">a</a> <a class="Bound" href="Induction.html#1759" id="1759">ℓ₁</a> <a class="Bound" href="Induction.html#1762" id="1762">ℓ₂</a> <a class="Bound" href="Induction.html#1765" id="1765">ℓ₃</a><a class="Symbol" id="1767">}</a> <a class="Symbol" id="1769">{</a><a class="Bound" href="Induction.html#1770" id="1770">A</a> <a class="Symbol" id="1772">:</a> <a class="Primitive" href="Agda.Primitive.html#326" id="1774">Set</a> <a class="Bound" href="Induction.html#1757" id="1778">a</a><a class="Symbol" id="1779">}</a> <a class="Symbol" id="1781">→</a>
                 <a class="Function" href="Relation.Unary.html#1101" id="1800">Pred</a> <a class="Bound" href="Induction.html#1770" id="1805">A</a> <a class="Bound" href="Induction.html#1759" id="1807">ℓ₁</a> <a class="Symbol" id="1810">→</a> <a class="Function" href="Induction.html#760" id="1812">RecStruct</a> <a class="Bound" href="Induction.html#1770" id="1822">A</a> <a class="Bound" href="Induction.html#1762" id="1824">ℓ₂</a> <a class="Bound" href="Induction.html#1765" id="1827">ℓ₃</a> <a class="Symbol" id="1830">→</a> <a class="Primitive" href="Agda.Primitive.html#326" id="1832">Set</a> <a class="Symbol" id="1836">_</a>
<a class="Function" href="Induction.html#1737" id="1838">SubsetRecursor</a> <a class="Bound" href="Induction.html#1853" id="1853">Q</a> <a class="Bound" href="Induction.html#1855" id="1855">Rec</a> <a class="Symbol" id="1859">=</a> <a class="Symbol" id="1861">∀</a> <a class="Bound" href="Induction.html#1863" id="1863">P</a> <a class="Symbol" id="1865">→</a> <a class="Bound" href="Induction.html#1855" id="1867">Rec</a> <a class="Bound" href="Induction.html#1863" id="1871">P</a> <a class="Function Operator" href="Relation.Unary.html#2408" id="1873">⊆′</a> <a class="Bound" href="Induction.html#1863" id="1876">P</a> <a class="Symbol" id="1878">→</a> <a class="Bound" href="Induction.html#1853" id="1880">Q</a> <a class="Function Operator" href="Relation.Unary.html#2408" id="1882">⊆′</a> <a class="Bound" href="Induction.html#1863" id="1885">P</a>

<a id="subsetBuild"></a><a class="Function" href="Induction.html#1888" id="1888">subsetBuild</a> <a class="Symbol" id="1900">:</a> <a class="Symbol" id="1902">∀</a> <a class="Symbol" id="1904">{</a><a class="Bound" href="Induction.html#1905" id="1905">a</a> <a class="Bound" href="Induction.html#1907" id="1907">ℓ₁</a> <a class="Bound" href="Induction.html#1910" id="1910">ℓ₂</a> <a class="Bound" href="Induction.html#1913" id="1913">ℓ₃</a><a class="Symbol" id="1915">}</a>
                <a class="Symbol" id="1933">{</a><a class="Bound" href="Induction.html#1934" id="1934">A</a> <a class="Symbol" id="1936">:</a> <a class="Primitive" href="Agda.Primitive.html#326" id="1938">Set</a> <a class="Bound" href="Induction.html#1905" id="1942">a</a><a class="Symbol" id="1943">}</a> <a class="Symbol" id="1945">{</a><a class="Bound" href="Induction.html#1946" id="1946">Q</a> <a class="Symbol" id="1948">:</a> <a class="Function" href="Relation.Unary.html#1101" id="1950">Pred</a> <a class="Bound" href="Induction.html#1934" id="1955">A</a> <a class="Bound" href="Induction.html#1907" id="1957">ℓ₁</a><a class="Symbol" id="1959">}</a> <a class="Symbol" id="1961">{</a><a class="Bound" href="Induction.html#1962" id="1962">Rec</a> <a class="Symbol" id="1966">:</a> <a class="Function" href="Induction.html#760" id="1968">RecStruct</a> <a class="Bound" href="Induction.html#1934" id="1978">A</a> <a class="Bound" href="Induction.html#1910" id="1980">ℓ₂</a> <a class="Bound" href="Induction.html#1913" id="1983">ℓ₃</a><a class="Symbol" id="1985">}</a> <a class="Symbol" id="1987">→</a>
                <a class="Function" href="Induction.html#1561" id="2005">SubsetRecursorBuilder</a> <a class="Bound" href="Induction.html#1946" id="2027">Q</a> <a class="Bound" href="Induction.html#1962" id="2029">Rec</a> <a class="Symbol" id="2033">→</a>
                <a class="Function" href="Induction.html#1737" id="2051">SubsetRecursor</a> <a class="Bound" href="Induction.html#1946" id="2066">Q</a> <a class="Bound" href="Induction.html#1962" id="2068">Rec</a>
<a class="Function" href="Induction.html#1888" id="2072">subsetBuild</a> <a class="Bound" href="Induction.html#2084" id="2084">builder</a> <a class="Bound" href="Induction.html#2092" id="2092">P</a> <a class="Bound" href="Induction.html#2094" id="2094">f</a> <a class="Bound" href="Induction.html#2096" id="2096">x</a> <a class="Bound" href="Induction.html#2098" id="2098">q</a> <a class="Symbol" id="2100">=</a> <a class="Bound" href="Induction.html#2094" id="2102">f</a> <a class="Bound" href="Induction.html#2096" id="2104">x</a> <a class="Symbol" id="2106">(</a><a class="Bound" href="Induction.html#2084" id="2107">builder</a> <a class="Bound" href="Induction.html#2092" id="2115">P</a> <a class="Bound" href="Induction.html#2094" id="2117">f</a> <a class="Bound" href="Induction.html#2096" id="2119">x</a> <a class="Bound" href="Induction.html#2098" id="2121">q</a><a class="Symbol" id="2122">)</a>
</pre></div></body></html>